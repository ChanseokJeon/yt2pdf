# yt2pdf ê°œë°œ ì§„í–‰ ìƒíƒœ

> ì´ ë¬¸ì„œëŠ” ê°œë°œ ì§„í–‰ ìƒíƒœë¥¼ ì¶”ì í•©ë‹ˆë‹¤. ì‘ì—… ì¤‘ë‹¨ í›„ ì¬ê°œ ì‹œ ì´ ë¬¸ì„œë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

---

## í˜„ì¬ ìƒíƒœ ìš”ì•½

| í•­ëª© | ìƒíƒœ |
|------|------|
| **í˜„ì¬ Phase** | Phase 7 (ì½”ë“œë² ì´ìŠ¤ ë¦¬íŒ©í† ë§) - Phase 2 ì™„ë£Œ |
| **í˜„ì¬ ì‘ì—…** | Orchestrator íŠ¹ì„± í…ŒìŠ¤íŠ¸ + í”„ë¡ì‹œ ê²€ì¦ (session-011) |
| **ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸** | 2026-02-08 |
| **ë‹¤ìŒ ì‘ì—…** | Phase 3: Orchestrator íŒŒì´í”„ë¼ì¸ ë¦¬íŒ©í† ë§ (session-012) |
| **í…ŒìŠ¤íŠ¸** | 876ê°œ, 94%+ ì»¤ë²„ë¦¬ì§€ |

---

## Phase 0: í”„ë¡œì íŠ¸ ì´ˆê¸°í™”

### ìƒíƒœ: âœ… ì™„ë£Œ

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | ë‹´ë‹¹ | ë¹„ê³  |
|----|--------|------|------|------|
| 0.1 | ìŠ¤í™ ë¬¸ì„œ ì‘ì„± | âœ… ì™„ë£Œ | - | SPEC.md |
| 0.2 | ì•„í‚¤í…ì²˜ ì„¤ê³„ | âœ… ì™„ë£Œ | - | docs/ARCHITECTURE.md |
| 0.3 | ëª¨ë“ˆ ìƒì„¸ ì„¤ê³„ | âœ… ì™„ë£Œ | - | docs/MODULES.md |
| 0.4 | ì§„í–‰ ê´€ë¦¬ ë¬¸ì„œ | âœ… ì™„ë£Œ | - | docs/PROGRESS.md (ì´ ë¬¸ì„œ) |
| 0.5 | package.json ìƒì„± | âœ… ì™„ë£Œ | - | |
| 0.6 | tsconfig.json ì„¤ì • | âœ… ì™„ë£Œ | - | |
| 0.7 | ESLint/Prettier ì„¤ì • | âœ… ì™„ë£Œ | - | |
| 0.8 | ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„± | âœ… ì™„ë£Œ | - | |
| 0.9 | .env.example ìƒì„± | âœ… ì™„ë£Œ | - | |
| 0.10 | ê¸°ë³¸ ì„¤ì • íŒŒì¼ ìƒì„± | âœ… ì™„ë£Œ | - | yt2pdf.config.yaml |

---

## Phase 1: MVP (í•µì‹¬ ê¸°ëŠ¥)

### ìƒíƒœ: âœ… ì™„ë£Œ

### 1.1 Infrastructure (ê¸°ë°˜)

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | ì˜ì¡´ì„± | íŒŒì¼ |
|----|--------|------|--------|------|
| 1.1.1 | íƒ€ì… ì •ì˜ | âœ… ì™„ë£Œ | 0.* | src/types/*.ts |
| 1.1.2 | ì„¤ì • ê´€ë¦¬ì êµ¬í˜„ | âœ… ì™„ë£Œ | 1.1.1 | src/utils/config.ts |
| 1.1.3 | ë¡œê±° êµ¬í˜„ | âœ… ì™„ë£Œ | 1.1.1 | src/utils/logger.ts |
| 1.1.4 | ìºì‹œ ê´€ë¦¬ì êµ¬í˜„ | âœ… ì™„ë£Œ | 1.1.1 | src/utils/cache.ts |
| 1.1.5 | íŒŒì¼ ìœ í‹¸ë¦¬í‹° | âœ… ì™„ë£Œ | - | src/utils/file.ts |

### 1.2 Providers (ì™¸ë¶€ ì—°ë™)

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | ì˜ì¡´ì„± | íŒŒì¼ |
|----|--------|------|--------|------|
| 1.2.1 | YouTube Provider | âœ… ì™„ë£Œ | 1.1.* | src/providers/youtube.ts |
| 1.2.2 | FFmpeg Wrapper | âœ… ì™„ë£Œ | 1.1.* | src/providers/ffmpeg.ts |

### 1.3 Core (í•µì‹¬ ë¡œì§)

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | ì˜ì¡´ì„± | íŒŒì¼ |
|----|--------|------|--------|------|
| 1.3.1 | ìë§‰ ì¶”ì¶œê¸° (YouTube only) | âœ… ì™„ë£Œ | 1.2.1 | src/core/subtitle-extractor.ts |
| 1.3.2 | ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜ëŸ¬ | âœ… ì™„ë£Œ | 1.2.2 | src/core/screenshot-capturer.ts |
| 1.3.3 | ì½˜í…ì¸  ë³‘í•©ê¸° | âœ… ì™„ë£Œ | 1.3.1, 1.3.2 | src/core/content-merger.ts |
| 1.3.4 | PDF ìƒì„±ê¸° (ê¸°ë³¸) | âœ… ì™„ë£Œ | 1.3.3 | src/core/pdf-generator.ts |
| 1.3.5 | ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° | âœ… ì™„ë£Œ | 1.3.* | src/core/orchestrator.ts |

### 1.4 CLI (ëª…ë ¹ì¤„ ì¸í„°í˜ì´ìŠ¤)

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | ì˜ì¡´ì„± | íŒŒì¼ |
|----|--------|------|--------|------|
| 1.4.1 | CLI ê¸°ë³¸ êµ¬ì¡° | âœ… ì™„ë£Œ | 1.3.5 | src/cli/index.ts |
| 1.4.2 | ë³€í™˜ ëª…ë ¹ì–´ | âœ… ì™„ë£Œ | 1.4.1 | src/cli/commands/convert.ts |
| 1.4.3 | í”„ë¡œê·¸ë ˆìŠ¤ UI | âœ… ì™„ë£Œ | 1.4.1 | src/cli/ui/progress.ts |

### 1.5 í…ŒìŠ¤íŠ¸

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | ì˜ì¡´ì„± | íŒŒì¼ |
|----|--------|------|--------|------|
| 1.5.1 | Jest ì„¤ì • | âœ… ì™„ë£Œ | 0.* | jest.config.js |
| 1.5.2 | ìœ í‹¸ë¦¬í‹° í…ŒìŠ¤íŠ¸ | âœ… ì™„ë£Œ | 1.1.* | tests/unit/utils/*.test.ts |
| 1.5.3 | Provider í…ŒìŠ¤íŠ¸ | âœ… ì™„ë£Œ | 1.2.* | tests/unit/providers/*.test.ts |
| 1.5.4 | Core í…ŒìŠ¤íŠ¸ | âœ… ì™„ë£Œ | 1.3.* | tests/unit/core/*.test.ts |
| 1.5.5 | E2E í…ŒìŠ¤íŠ¸ | âœ… ì™„ë£Œ | 1.4.* | tests/e2e/*.test.ts |

---

## Phase 2: Whisper í†µí•© + AI ê¸°ëŠ¥

### ìƒíƒœ: âœ… ì™„ë£Œ

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | ì˜ì¡´ì„± | íŒŒì¼ |
|----|--------|------|--------|------|
| 2.1 | Whisper Provider | âœ… ì™„ë£Œ | Phase 1 | src/providers/whisper.ts |
| 2.2 | ë¹„ìš© ì¶”ì •ê¸° | âœ… ì™„ë£Œ | 2.1 | src/core/cost-estimator.ts |
| 2.3 | ìë§‰ ì¶”ì¶œê¸° Whisper í†µí•© | âœ… ì™„ë£Œ | 2.1 | src/core/subtitle-extractor.ts |
| 2.4 | ë¹„ìš© í™•ì¸ UI | âœ… ì™„ë£Œ | 2.2 | src/cli/ui/prompts.ts |
| 2.5 | Whisper í…ŒìŠ¤íŠ¸ | âœ… ì™„ë£Œ | 2.* | tests/unit/providers/whisper.test.ts |
| 2.6 | AI ìš”ì•½/ë²ˆì—­ Provider | âœ… ì™„ë£Œ | - | src/providers/ai.ts |
| 2.7 | í†µí•© AI Provider | âœ… ì™„ë£Œ | 2.6 | src/providers/unified-ai.ts |

---

## Phase 3: ê³ ê¸‰ ê¸°ëŠ¥

### ìƒíƒœ: ğŸ”„ ë¶€ë¶„ ì™„ë£Œ

### 3.1 í”Œë ˆì´ë¦¬ìŠ¤íŠ¸

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | ì˜ì¡´ì„± | íŒŒì¼ |
|----|--------|------|--------|------|
| 3.1.1 | í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ íŒŒì‹± | â¬œ ëŒ€ê¸° | Phase 2 | src/providers/youtube.ts |
| 3.1.2 | ë°°ì¹˜ ì²˜ë¦¬ ë¡œì§ | â¬œ ëŒ€ê¸° | 3.1.1 | src/core/orchestrator.ts |
| 3.1.3 | í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ UI | â¬œ ëŒ€ê¸° | 3.1.2 | src/cli/ui/progress.ts |

### 3.2 PDF í…Œë§ˆ/ë ˆì´ì•„ì›ƒ

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | ì˜ì¡´ì„± | íŒŒì¼ |
|----|--------|------|--------|------|
| 3.2.1 | í…Œë§ˆ ì‹œìŠ¤í…œ | âœ… ì™„ë£Œ | Phase 2 | src/templates/pdf/*.ts |
| 3.2.2 | Horizontal ë ˆì´ì•„ì›ƒ | âœ… ì™„ë£Œ | 3.2.1 | src/core/pdf-generator.ts |
| 3.2.3 | Vertical ë ˆì´ì•„ì›ƒ | âœ… ì™„ë£Œ | 3.2.1 | src/core/pdf-generator.ts |
| 3.2.4 | Minimal-Neon í…Œë§ˆ | âœ… ì™„ë£Œ | 3.2.1 | Puppeteer ê¸°ë°˜ HTMLâ†’PDF |
| 3.2.5 | Theme Builder | âœ… ì™„ë£Œ | 3.2.1 | URL/ì´ë¯¸ì§€/í”„ë¦¬ì…‹ ìƒ‰ìƒ ì¶”ì¶œ |

### 3.3 ì¶”ê°€ ì¶œë ¥ í¬ë§·

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | ì˜ì¡´ì„± | íŒŒì¼ |
|----|--------|------|--------|------|
| 3.3.1 | Markdown ì¶œë ¥ | âœ… ì™„ë£Œ | Phase 2 | src/templates/markdown.ts |
| 3.3.2 | HTML ì¶œë ¥ | âœ… ì™„ë£Œ | Phase 2 | src/templates/html.ts |
| 3.3.3 | Brief ì¶œë ¥ | âœ… ì™„ë£Œ | Phase 2 | ìš”ì•½ ì „ìš© í¬ë§· |

### 3.4 íƒ€ì„ìŠ¤íƒ¬í”„ ë§í¬

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | ì˜ì¡´ì„± | íŒŒì¼ |
|----|--------|------|--------|------|
| 3.4.1 | PDF ë§í¬ êµ¬í˜„ | âœ… ì™„ë£Œ | Phase 2 | src/core/pdf-generator.ts |
| 3.4.2 | MD/HTML ë§í¬ | âœ… ì™„ë£Œ | 3.3.* | src/templates/*.ts |

### 3.5 ìºì‹œ ì‹œìŠ¤í…œ

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | ì˜ì¡´ì„± | íŒŒì¼ |
|----|--------|------|--------|------|
| 3.5.1 | ì²´í¬í¬ì¸íŠ¸ ì €ì¥ | âœ… ì™„ë£Œ | Phase 2 | src/core/orchestrator.ts |
| 3.5.2 | ì²´í¬í¬ì¸íŠ¸ ë³µì› | âœ… ì™„ë£Œ | 3.5.1 | src/core/orchestrator.ts |
| 3.5.3 | ìºì‹œ CLI ëª…ë ¹ì–´ | âœ… ì™„ë£Œ | 3.5.* | src/cli/commands/cache.ts |

---

## Phase 4: Web Service API

### ìƒíƒœ: âœ… ì™„ë£Œ (ì»¤ë°‹: 5bb2e82)

### 4.1 REST API

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | ì˜ì¡´ì„± | íŒŒì¼ |
|----|--------|------|--------|------|
| 4.1.1 | Hono ì„œë²„ ì„¤ì • | âœ… ì™„ë£Œ | Phase 3 | src/api/server.ts, app.ts |
| 4.1.2 | Jobs ì—”ë“œí¬ì¸íŠ¸ | âœ… ì™„ë£Œ | 4.1.1 | src/api/routes/jobs.ts |
| 4.1.3 | Analyze ì—”ë“œí¬ì¸íŠ¸ | âœ… ì™„ë£Œ | 4.1.1 | src/api/routes/analyze.ts |
| 4.1.4 | Health ì—”ë“œí¬ì¸íŠ¸ | âœ… ì™„ë£Œ | 4.1.1 | src/api/routes/health.ts |
| 4.1.5 | Job ëª¨ë¸/ìŠ¤í‚¤ë§ˆ | âœ… ì™„ë£Œ | - | src/api/models/job.ts |
| 4.1.6 | JobStore (In-memory) | âœ… ì™„ë£Œ | - | src/api/store/job-store.ts |

### 4.2 í´ë¼ìš°ë“œ í”„ë¡œë°”ì´ë” ì¶”ìƒí™”

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | ì˜ì¡´ì„± | íŒŒì¼ |
|----|--------|------|--------|------|
| 4.2.1 | ì¸í„°í˜ì´ìŠ¤ ì •ì˜ | âœ… ì™„ë£Œ | - | src/cloud/interfaces.ts |
| 4.2.2 | íŒ©í† ë¦¬ íŒ¨í„´ | âœ… ì™„ë£Œ | 4.2.1 | src/cloud/factory.ts |
| 4.2.3 | AWS (S3/SQS) | âœ… ì™„ë£Œ | 4.2.1 | src/cloud/aws/*.ts |
| 4.2.4 | GCP (Storage/Pub/Sub) | âœ… ì™„ë£Œ | 4.2.1 | src/cloud/gcp/*.ts |
| 4.2.5 | Local (ê°œë°œìš©) | âœ… ì™„ë£Œ | 4.2.1 | src/cloud/local/*.ts |

### 4.3 Worker

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | ì˜ì¡´ì„± | íŒŒì¼ |
|----|--------|------|--------|------|
| 4.3.1 | Job Processor | âœ… ì™„ë£Œ | 4.1, 4.2 | src/worker/processor.ts |
| 4.3.2 | Worker Runner | âœ… ì™„ë£Œ | 4.3.1 | src/worker/run.ts |

### 4.4 ë³´ì•ˆ ë° ì•ˆì •ì„±

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | ì˜ì¡´ì„± | íŒŒì¼ |
|----|--------|------|--------|------|
| 4.4.1 | Command Injection ìˆ˜ì • | âœ… ì™„ë£Œ | - | execFileAsync ë°°ì—´ ì¸ì |
| 4.4.2 | Path Traversal ìˆ˜ì • | âœ… ì™„ë£Œ | - | path.resolve ê²€ì¦ |
| 4.4.3 | í™˜ê²½ë³€ìˆ˜ ê²€ì¦ | âœ… ì™„ë£Œ | - | src/utils/env-validator.ts |
| 4.4.4 | Graceful Shutdown | âœ… ì™„ë£Œ | - | src/api/server.ts |

### 4.5 í…ŒìŠ¤íŠ¸ (617ê°œ, 94%+)

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | ì˜ì¡´ì„± | íŒŒì¼ |
|----|--------|------|--------|------|
| 4.5.1 | API í…ŒìŠ¤íŠ¸ | âœ… ì™„ë£Œ | 4.1 | tests/unit/api/*.test.ts |
| 4.5.2 | Cloud í…ŒìŠ¤íŠ¸ | âœ… ì™„ë£Œ | 4.2 | tests/unit/cloud/*.test.ts |
| 4.5.3 | í™˜ê²½ë³€ìˆ˜ í…ŒìŠ¤íŠ¸ | âœ… ì™„ë£Œ | 4.4.3 | tests/unit/utils/env-validator.test.ts |

---

## Phase 5: Claude Code Skill

### ìƒíƒœ: âœ… ì™„ë£Œ

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | ì˜ì¡´ì„± | íŒŒì¼ |
|----|--------|------|--------|------|
| 5.1 | Skill í”„ë¡¬í”„íŠ¸ ì‘ì„± | âœ… ì™„ë£Œ | Phase 3 | .claude/skills/yt2pdf.md |
| 5.2 | Skill ì„¤ì • | âœ… ì™„ë£Œ | 5.1 | .claude/settings.json |
| 5.3 | Skill í…ŒìŠ¤íŠ¸ | âœ… ì™„ë£Œ | 5.2 | - |

---

## Phase 6: í”„ë¡œë•ì…˜ ë°°í¬ (Cloud Run + GCS)

### ìƒíƒœ: âœ… ì™„ë£Œ

> **ì„¤ê³„ ë³€ê²½ (2026-02-04)**: ì˜¤ë²„ì—”ì§€ë‹ˆì–´ë§ ë¦¬ë·° ê²°ê³¼, 100ê±´/ì›” ê·œëª¨ì— ë§ëŠ” ìµœì†Œ MVPë¡œ ë‹¨ìˆœí™”

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | ì˜ì¡´ì„± | íŒŒì¼ |
|----|--------|------|--------|------|
| 6.1 | ~~JobStore ì˜ì†í™”~~ | âŒ ì·¨ì†Œ | - | Stateless ì„¤ê³„ë¡œ ë¶ˆí•„ìš” |
| 6.2 | ~~API ì¸ì¦/ì¸ê°€~~ | âŒ ì·¨ì†Œ | - | ê°œì¸ìš© ë„êµ¬, ë¶ˆí•„ìš” |
| 6.3 | ~~Rate Limiting~~ | âŒ ì·¨ì†Œ | - | 100ê±´/ì›”ì— ë¶ˆí•„ìš” |
| 6.4 | Dockerfile (Cloud Runìš©) | âœ… ì™„ë£Œ | - | Dockerfile |
| 6.5 | GCS ì—°ë™ (Signed URL) | âœ… ì™„ë£Œ | - | /jobs/sync ì—”ë“œí¬ì¸íŠ¸ |
| 6.6 | ~~CI/CD íŒŒì´í”„ë¼ì¸~~ | âŒ ì·¨ì†Œ | - | ìˆ˜ë™ ë°°í¬ë¡œ ì‹œì‘ |
| 6.7 | Cloud Run ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ | âœ… ì™„ë£Œ | 6.4, 6.5 | scripts/deploy-cloudrun.sh |
| 6.8 | README.md ì—…ë°ì´íŠ¸ | âœ… ì™„ë£Œ | 6.7 | README.md |

### Cloud Run ì„¤ì • (Minimal MVP)

```yaml
memory: 2Gi
cpu: 1
timeout: 900s (15ë¶„)
concurrency: 1
min-instances: 0
max-instances: 1
region: asia-northeast3
```

### GCS ì„¤ì •

```yaml
bucket: yt2pdf-output
lifecycle: 7ì¼ í›„ ìë™ ì‚­ì œ
signed-url: V4, 24ì‹œê°„ ë§Œë£Œ
```

### Cloud Run ë°°í¬ ìƒíƒœ

> **ë°°í¬ ì™„ë£Œ (2026-02-06)**: Cloud Runì— ì„±ê³µì ìœ¼ë¡œ ë°°í¬ë¨
>
> **ì•Œë ¤ì§„ ì´ìŠˆ**: YouTube IP ì°¨ë‹¨ ë¬¸ì œ
> - YouTube ìë§‰ ë°ì´í„° ìˆ˜ì§‘ ì‹œ ì¼ë¶€ IPì—ì„œ ì°¨ë‹¨ ë°œìƒ ê°€ëŠ¥
> - í•´ê²°ì±…: í”„ë¡ì‹œ ì„œë¹„ìŠ¤ ë˜ëŠ” ë‹¤ì¤‘ ë¦¬ì‹œë„ ë¡œì§ ê³ ë ¤
> - í˜„ì¬: Whisper API í´ë°±ìœ¼ë¡œ ëŒ€ì‘ ì¤‘

---

## ìƒíƒœ ë²”ë¡€

| ì•„ì´ì½˜ | ì˜ë¯¸ |
|--------|------|
| â¬œ | ëŒ€ê¸° (Not Started) |
| ğŸ”„ | ì§„í–‰ ì¤‘ (In Progress) |
| âœ… | ì™„ë£Œ (Completed) |
| â¸ï¸ | ë³´ë¥˜ (On Hold) |
| âŒ | ì·¨ì†Œ (Cancelled) |

---

## ì‘ì—… ë¡œê·¸

### 2026-02-08

| ì‹œê°„ | ì‘ì—… ë‚´ìš© |
|------|----------|
| - | Orchestrator íŠ¹ì„± í…ŒìŠ¤íŠ¸ 33ê°œ ì‘ì„± ì™„ë£Œ (session-011) |
| - | YouTube í”„ë¡ì‹œ URL ê²€ì¦ êµ¬í˜„ (CWE-78 ì»¤ë§¨ë“œ ì¸ì ì…˜ ë°©ì§€) |
| - | Cache CLI ì™„ì „ êµ¬í˜„ í™•ì¸ |
| - | í…ŒìŠ¤íŠ¸ 876ê°œ í†µê³¼, ë¹Œë“œ/ë¦°íŠ¸ 0 ì—ëŸ¬ |

### 2026-02-06

| ì‹œê°„ | ì‘ì—… ë‚´ìš© |
|------|----------|
| - | Phase 7 ë¦¬íŒ©í† ë§ Phase 1 ì™„ë£Œ - ìœ í‹¸ë¦¬í‹° ì¶”ì¶œ (session-009) |
| - | 4ê°œ ëª¨ë“ˆ ì¶”ì¶œ: text-normalizer, image, language, time |
| - | í…ŒìŠ¤íŠ¸ 784ê°œ í†µê³¼, 90%+ ì»¤ë²„ë¦¬ì§€ (ìƒˆ ëª¨ë“ˆ) |
| - | Phase 6 ì™„ë£Œ (í”„ë¡œë•ì…˜ ë°°í¬) |
| - | Cloud Run ë°°í¬ ì™„ë£Œ |
| - | GCS Signed URL ì—°ë™ ì™„ë£Œ |
| - | YouTube IP ì°¨ë‹¨ ì´ìŠˆ ë¬¸ì„œí™” |

### 2026-02-02

| ì‹œê°„ | ì‘ì—… ë‚´ìš© |
|------|----------|
| - | Web Service API êµ¬í˜„ (Hono í”„ë ˆì„ì›Œí¬) |
| - | í´ë¼ìš°ë“œ í”„ë¡œë°”ì´ë” ì¶”ìƒí™” (AWS/GCP/Local) |
| - | Worker/Job Processor êµ¬í˜„ |
| - | ë³´ì•ˆ ì·¨ì•½ì  ìˆ˜ì • (Command Injection, Path Traversal ë“±) |
| - | 596ê°œ í…ŒìŠ¤íŠ¸, 94%+ ì»¤ë²„ë¦¬ì§€ ë‹¬ì„± |

### 2026-01-30

| ì‹œê°„ | ì‘ì—… ë‚´ìš© |
|------|----------|
| - | PDF í’ˆì§ˆ ê°œì„  |
| - | AI í”„ë¡¬í”„íŠ¸ ì¬ì„¤ê³„ (TASK A/B/C ë¶„ë¦¬) |
| - | 157ê°œ í…ŒìŠ¤íŠ¸ í†µê³¼ |

### 2025-01-26

| ì‹œê°„ | ì‘ì—… ë‚´ìš© |
|------|----------|
| - | í”„ë¡œì íŠ¸ ìš”êµ¬ì‚¬í•­ ì¸í„°ë·° ì™„ë£Œ |
| - | SPEC.md ì‘ì„± ì™„ë£Œ |
| - | ARCHITECTURE.md ì‘ì„± ì™„ë£Œ |
| - | MODULES.md ì‘ì„± ì™„ë£Œ |
| - | PROGRESS.md ì‘ì„± ì™„ë£Œ |

---

## ë‹¤ìŒ ì‘ì—… ìƒì„¸

### ë‹¤ìŒ íƒœìŠ¤í¬: 6.4 Dockerfile (Cloud Runìš©)

**ì‘ì—… ë‚´ìš©**:
1. Cloud Runìš© Dockerfile ì‘ì„±
2. ì‹œìŠ¤í…œ ì˜ì¡´ì„± í¬í•¨ (ffmpeg, yt-dlp)
3. pdfkit ê¸°ë³¸, Puppeteer ì˜µì…˜

**ë°°í¬ ëª…ë ¹ì–´**:
```bash
gcloud run deploy yt2pdf \
  --source . \
  --region asia-northeast3 \
  --memory 2Gi \
  --timeout 900 \
  --concurrency 1 \
  --min-instances 0 \
  --max-instances 1 \
  --set-env-vars "GCS_BUCKET_NAME=yt2pdf-output" \
  --allow-unauthenticated
```

**GCS ë²„í‚· ìƒì„±**:
```bash
gsutil mb -l asia-northeast3 gs://yt2pdf-output
gsutil lifecycle set lifecycle.json gs://yt2pdf-output
```

---

## Phase 7: ì½”ë“œë² ì´ìŠ¤ ë¦¬íŒ©í† ë§

### ìƒíƒœ: ğŸ”„ ì§„í–‰ ì¤‘ (Phase 0 ì™„ë£Œ)

> **ê³„íš ë¬¸ì„œ**: `.omc/plans/refactoring-plan.md` (6-layer verification strategy í¬í•¨)

### Phase 0: í…ŒìŠ¤íŠ¸ ì¸í”„ë¼ ì „ì œì¡°ê±´

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | íŒŒì¼ |
|----|--------|------|------|
| 0.1 | PDFKit Mock | âœ… ì™„ë£Œ | tests/__mocks__/pdfkit.ts |
| 0.2 | ê³µìœ  í…ŒìŠ¤íŠ¸ í”½ìŠ¤ì²˜ | âœ… ì™„ë£Œ | tests/fixtures/*, tests/helpers/* |
| 0.3 | í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì„¤ì • | âœ… ì™„ë£Œ | package.json (test:char, test:golden, etc.) |
| 0.4 | ì‹œê°ì  íšŒê·€ í…ŒìŠ¤íŠ¸ ì„¤ì • | âœ… ì™„ë£Œ | tests/visual/* |
| 0.5 | 6-Layer ê²€ì¦ ì¸í”„ë¼ | âœ… ì™„ë£Œ | .dependency-cruiser.js, scripts/benchmark.js |

### Phase 1: PDF Generator ìœ í‹¸ë¦¬í‹° ì¶”ì¶œ

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | íŒŒì¼ |
|----|--------|------|------|
| 1.1 | í…ìŠ¤íŠ¸ ì •ê·œí™” ëª¨ë“ˆ | âœ… ì™„ë£Œ | src/utils/text-normalizer.ts |
| 1.2 | ì´ë¯¸ì§€ ìœ í‹¸ë¦¬í‹° ëª¨ë“ˆ | âœ… ì™„ë£Œ | src/utils/image.ts |
| 1.3 | ì–¸ì–´ ìœ í‹¸ë¦¬í‹° í†µí•© | âœ… ì™„ë£Œ | src/utils/language.ts |
| 1.4 | formatTimestamp ì´ë™ | âœ… ì™„ë£Œ | src/utils/time.ts |

### Phase 2: PDF Generator ë¶„í•´ (âœ… ì™„ë£Œ)

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | íŒŒì¼ |
|----|--------|------|------|
| 2.1 | í…Œë§ˆ ì‹œìŠ¤í…œ ì¶”ì¶œ | âœ… ì™„ë£Œ | src/core/pdf/themes.ts |
| 2.2 | PDFKit ë Œë”ëŸ¬ ì¶”ì¶œ | âœ… ì™„ë£Œ | src/core/pdf/pdfkit-renderer.ts |
| 2.2 | Puppeteer ë Œë”ëŸ¬ ì¶”ì¶œ | âœ… ì™„ë£Œ | src/core/pdf/puppeteer-renderer.ts |
| 2.4 | Brief ìƒì„±ê¸° ì¶”ì¶œ | âœ… ì™„ë£Œ | src/core/brief-generator.ts |
| 2.5 | PDFGenerator ë‹¨ìˆœí™” | âœ… ì™„ë£Œ | src/core/pdf-generator.ts (544ì¤„) |

### Phase 2 ì™„ë£Œ ìš”ì•½
- PDF Generator 4ê°œ ëª¨ë“ˆë¡œ ë¶„í•´ ì™„ë£Œ
- pdf-generator.ts: 3,800ì¤„ â†’ 544ì¤„ (86% ê°ì†Œ)
- 825ê°œ í…ŒìŠ¤íŠ¸ í†µê³¼
- 0ê°œ ìˆœí™˜ ì˜ì¡´ì„±

### Phase 1 ì™„ë£Œ ìš”ì•½
- 4ê°œ ìœ í‹¸ë¦¬í‹° ëª¨ë“ˆ ì¶”ì¶œ: text-normalizer, image, language, time
- 90%+ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ë‹¬ì„±
- 784ê°œ í…ŒìŠ¤íŠ¸ í†µê³¼

### Phase 3: Orchestrator & AI Provider ë¦¬íŒ©í† ë§ (ì˜ˆì •)

#### 3A: Orchestrator íŠ¹ì„±í™” & ê²€ì¦ (âœ… ì™„ë£Œ)

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | íŒŒì¼ |
|----|--------|------|------|
| 3A-1 | Orchestrator íŠ¹ì„± í…ŒìŠ¤íŠ¸ | âœ… ì™„ë£Œ | tests/characterization/orchestrator.test.ts |
| 3B-1 | YouTube í”„ë¡ì‹œ URL ê²€ì¦ (CWE-78) | âœ… ì™„ë£Œ | src/utils/proxy.ts, tests/unit/utils/proxy.test.ts |
| 3B-2 | Cache CLI í™•ì¸ | âœ… ì™„ë£Œ | src/cli/commands/cache.ts |

#### 3C: Orchestrator íŒŒì´í”„ë¼ì¸ ë¦¬íŒ©í† ë§ (ì˜ˆì •)

| ID | íƒœìŠ¤í¬ | ìƒíƒœ | íŒŒì¼ |
|----|--------|------|------|
| 3.0 | íŒŒì´í”„ë¼ì¸ ì¸í„°í˜ì´ìŠ¤ ì •ì˜ | â¬œ ëŒ€ê¸° | src/core/pipeline/interfaces.ts |
| 3.1 | íŒŒì´í”„ë¼ì¸ ìŠ¤í…Œì´ì§€ ì¶”ì¶œ | â¬œ ëŒ€ê¸° | src/core/pipeline/*.ts |
| 3.2 | AI Provider í†µí•© | â¬œ ëŒ€ê¸° | src/providers/ai/* |
| 3.3 | í†µí•© í…ŒìŠ¤íŠ¸ ì¶”ê°€ | â¬œ ëŒ€ê¸° | tests/integration/*.ts |

### ë¦¬íŒ©í† ë§ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸

| ëª…ë ¹ì–´ | ì„¤ëª… |
|--------|------|
| `npm run test:char` | íŠ¹ì„±í™” í…ŒìŠ¤íŠ¸ |
| `npm run test:golden` | ê³¨ë“  ë§ˆìŠ¤í„° í…ŒìŠ¤íŠ¸ |
| `npm run test:contract` | ê³„ì•½ í…ŒìŠ¤íŠ¸ |
| `npm run test:visual` | ì‹œê°ì  íšŒê·€ í…ŒìŠ¤íŠ¸ |
| `npm run depcruise:validate` | ì˜ì¡´ì„± ê²€ì¦ |
| `npm run verify:all` | ì „ì²´ 6-layer ê²€ì¦ |

---

## ì´ìŠˆ ë° ë¸”ë¡œì»¤

| ID | ì´ìŠˆ | ìƒíƒœ | í•´ê²° ë°©ì•ˆ |
|----|------|------|----------|
| ISS-001 | YouTube IP Blocking (Cloud Run) | ğŸ”´ ë¯¸í•´ê²° | Residential Proxy í•„ìš” ($6/ì›”) |

---

## ì˜ì‚¬ê²°ì • ê¸°ë¡

| ë‚ ì§œ | ê²°ì • ì‚¬í•­ | ì´ìœ  |
|------|----------|------|
| 2026-02-02 | Hono í”„ë ˆì„ì›Œí¬ ì„ íƒ | ê²½ëŸ‰, Edge ì§€ì›, TypeScript ë„¤ì´í‹°ë¸Œ |
| 2026-02-02 | í´ë¼ìš°ë“œ ì¶”ìƒí™” ë ˆì´ì–´ | AWS/GCP ë©€í‹° í´ë¼ìš°ë“œ ì§€ì› |
| 2026-02-02 | In-memory JobStore (ì„ì‹œ) | ë¹ ë¥¸ ê°œë°œ, ì¶”í›„ Redis ì „í™˜ |
| 2026-01-30 | AI í”„ë¡¬í”„íŠ¸ TASK ë¶„ë¦¬ | ë²ˆì—­/íŒ©íŠ¸/ì¸ìš©êµ¬ í’ˆì§ˆ í–¥ìƒ |
| 2025-01-26 | Node.js/TypeScript ì„ íƒ | ì‚¬ìš©ì ì„ í˜¸ë„ |
| 2025-01-26 | OpenAI Whisper API ì‚¬ìš© | ì„¤ì¹˜ í¸ì˜ì„±, í’ˆì§ˆ |
| 2025-01-26 | 480p ê¸°ë³¸ í’ˆì§ˆ | ìš©ëŸ‰ ìµœì í™” ìš°ì„  |
| 2025-01-26 | YAML ì„¤ì • íŒŒì¼ | ê°€ë…ì„± ìš°ìˆ˜ |

---

## ì¬ê°œ ì‹œ ì²´í¬ë¦¬ìŠ¤íŠ¸

ì‘ì—…ì„ ì¤‘ë‹¨í–ˆë‹¤ê°€ ì¬ê°œí•  ë•Œ:

1. [ ] ì´ ë¬¸ì„œ(PROGRESS.md)ì˜ "í˜„ì¬ ìƒíƒœ ìš”ì•½" í™•ì¸
2. [ ] "ë‹¤ìŒ ì‘ì—… ìƒì„¸" ì„¹ì…˜ í™•ì¸
3. [ ] "ì´ìŠˆ ë° ë¸”ë¡œì»¤" í™•ì¸
4. [ ] ê´€ë ¨ ë¬¸ì„œ ì°¸ì¡° (ARCHITECTURE.md, MODULES.md)
5. [ ] ì‘ì—… ì™„ë£Œ í›„ ì´ ë¬¸ì„œ ì—…ë°ì´íŠ¸

---

*ì´ ë¬¸ì„œëŠ” ì‘ì—… ì§„í–‰ì— ë”°ë¼ ì§€ì†ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.*
